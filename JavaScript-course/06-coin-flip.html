<!DOCTYPE html>
<html>
    <head>
        <title> Coin Flip</title>
    </head>
    <body>
        Guess HEADS or TAILS:
    <p>    
        <button onclick="
            gamePlay('HEADS');
            updateScoreElement();
        ">HEADS</button>


        <button onclick="
            gamePlay('TAILS');
            updateScoreElement();
        ">TAILS</button>
    </p>   

    <p class="js-announce"></p>
    <p class="js-choice"></p>
    <p class="js-score"></p>

    <p>
        <button onclick="
            score.wins = 0;
            score.losses = 0;
            localStorage.removeItem('score');
            updateScoreElement();
        ">Reset Score</button>
    </p>

        <script>
            let score = JSON.parse(localStorage.getItem('score',)) || {
                    wins: 0,
                    losses: 0,
                };
                updateScoreElement();

            function gamePlay(guess) {
                const randomNumber = Math.random();
                
                const result = randomNumber < 0.5 ? 'HEADS' : 'TAILS';

                let announce = (guess === result ? 'Win!': 'Lose!');

                if(guess === result)
                {
                    score.wins +=1 ;
                }
                else 
                {
                    score.losses +=1 ;
                }

                localStorage.setItem('score',JSON.stringify(score));

                updateScoreElement();

                document.querySelector('.js-announce')
                    .innerHTML = `${announce}`;

                document.querySelector('.js-choice')
                    .innerHTML = `You: ${guess} |&nbsp;| ${result} :Computer`;
            }

            function updateScoreElement() {
                document.querySelector('.js-score')
                    .innerHTML= `Wins: ${score.wins} Losses: ${score.losses}`;
            }        
            </script>
       
    </body>
</html>